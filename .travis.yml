---
os:
- linux
language: ruby
sudo: false
rvm:
- 1.9.3
before_install:
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew update           ; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then brew install dpkg ; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then which dpkg-deb || 'dpkg-deb not found';
  fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then which lintian || echo 'lintian not found';
  fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then which python || brew install python; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then which easy_install || echo 'easy_install
  not found'; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then which rpm || brew install rpm ; fi
- if [[ "$TRAVIS_OS_NAME" == "osx" ]]; then which virtualenv || pip install --user
  virtualenv ; fi
- if [[ "$TRAVIS_OS_NAME" == "linux" ]]; then which virtualenv-tools || pip install
  --user virtualenv virtualenv-tools ; fi
- virtualenv ${HOME}/.venv
script: source ${HOME}/.venv/bin/activate && PATH=${PATH}:${HOME}/.local/bin bundle
  exec rspec
addons:
  apt:
    packages:
    - bsdtar
    - rpm
    - lintian
    - python-setuptools
    - python-pip
